# ✨ Registries

HCX registries will act as a source of truth for participant information on the platform. These may be extended from/link to already existing registries in the ecosystem, e.g. registry may extend from National Health Facility Registry provided by NHA. The benefit of extending from an existing registry would be:

* Easy maintenance of base data at the source registry
* The extended registry only needs to maintain additional/supplementary information pertaining to its use case
* Better interoperability

Keeping with the key design principles listed above, registries on HCX will strive to be minimalistic, self-maintainable, support non-repudiability, accessible through OpenAPIs, Extensible and evolvable, and designs for data privacy and security. All registries on the HCX platform will minimally provide the following APIs:

* Create
* Update
* Search
* Delete

Please note that onboarding of the actors in the registry will take place through workflows defined by domain groups and may change over time, therefore the access to the data modification APIs would be controlled by the HCX instance provider and used as part of the onboarding process.

## Participating Organisations/Systems Registry

This registry stores key details about the participants on the exchange who can exchange data through it. It may link with data on the HFR registry and will have fields necessary to facilitate claims data exchange with providers. Proposed attributes of the registry are:

| Name                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Type           | Additional Properties                                                                                              |
| ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- | ------------------------------------------------------------------------------------------------------------------ |
| participant\_code       | Machine-readable unique identifier of the participant, generated by the HCX instance.                                                                                                                                                                                                                                                                                                                                                                                                                                                    | String         | <ul><li>Mandatory</li><li>Unique across installations - namespaced as participant_code@hcx_instance_code</li></ul> |
| linked\_registry\_codes | <p>Identifier of the participant in other registries. Each identifier shall be in a “normalised” notation having the structure “<strong>identifier@registry</strong>”, where <em>registry</em> is a unique code for the registry system and <em>identifier</em> is the unique id of the participant in that registry system.</p><p>Ex: <em>facility001@hfr</em> - to link the provider record to HFR record.</p><p>The list of supported registry codes (e.g. hfr, rohini, etc) should be a configuration at the HCX instance level.</p> | List           | <ul><li>Optional</li></ul>                                                                                         |
| scheme\_code            | <p>name/code of the scheme provided by the payor. scheme_code is mandatory for all participants of type “Payor”.</p><p>If a payor has multiple schemes, there will be multiple entries in the registry for the same payor (participant) - one entry per scheme.</p><p>If the payor wishes to use a single entry for all its schemes, the schem_code value should be set to “default”.</p>                                                                                                                                                | String         | <ul><li>Optional</li></ul>                                                                                         |
| participant\_name       | A human-readable name for the participant                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | String         | <ul><li>Mandatory</li><li>Unique within the HCX instance context</li></ul>                                         |
| roles                   | Roles assigned to the participant as per the definition in the domain specifications. This will be used for access control.                                                                                                                                                                                                                                                                                                                                                                                                              | Array          | <ul><li>Mandatory</li></ul>                                                                                        |
| address                 | The physical address of the participant including its geolocation                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | JSON structure | <ul><li>Optional</li></ul>                                                                                         |
| primary\_email          | Primary Email id for claims related communication                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | String         | <ul><li>Optional</li></ul>                                                                                         |
| additional\_email       | Additional/alternative email ids of the participant for backup/recovery purposes. Maximum of 2 email addresses are allowed.                                                                                                                                                                                                                                                                                                                                                                                                              | Array          | <ul><li>Optional</li><li>Maximum 2</li></ul>                                                                       |
| primary\_mobile         | Primary mobile number for claims related communication                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | String         | <ul><li>Mandatory</li></ul>                                                                                        |
| additional\_mobile      | Additional/alternative mobile numbers of the participant for backup/recovery purposes. Maximum of 2 email addresses are allowed.                                                                                                                                                                                                                                                                                                                                                                                                         | Array          | <ul><li>Optional</li><li>Maximum 2</li></ul>                                                                       |
| phone                   | Landline number of the participant                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Array          | <ul><li>Optional</li><li>Maximum 3</li></ul>                                                                       |
| status                  | <p>Current status of the participant on the instance. Can be:</p><ul><li>Created (Not verified yet)</li><li>Active</li><li>Inactive</li><li>Blocked</li></ul>                                                                                                                                                                                                                                                                                                                                                                            | String         | <ul><li>Mandatory</li></ul>                                                                                        |
| signing\_cert\_path     | URI/file path to the JWT signing certificate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | String         | <ul><li>Optional</li></ul>                                                                                         |
| encryption\_cert        | URI/file path to encryption certificate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | String         | <ul><li>Mandatory</li></ul>                                                                                        |
| endpoint\_url           | Default endpoint to make API calls                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | String         | <ul><li>Mandatory</li></ul>                                                                                        |
| payment\_details        | <p>Default payment details:</p><ol><li>UPI ID, or</li><li>Ac Number + IFSC Code</li></ol>                                                                                                                                                                                                                                                                                                                                                                                                                                                | JSON Structure | <ul><li>Optional</li></ul>                                                                                         |

## User Registry

While the exchange protocol by itself may not need to focus on the human user (as the exchange is between systems), operational management of the exchange infrastructure may require administrative infrastructure that may necessitate a registry for operational users from organizations running HCX as well as participating organizations. Following are the proposed attributes for the User registry:

| Name             | Description                                                                      | Type   | Additional Properties                                                                                                        |
| ---------------- | -------------------------------------------------------------------------------- | ------ | ---------------------------------------------------------------------------------------------------------------------------- |
| user\_id         | Machine-readable user-id as the unique identifier generated by the HCX instance. | String | <ul><li>Mandatory</li><li>Should be unique across the installation</li></ul>                                                 |
| user\_name       | Human readable use name - something like email id                                | String | <ul><li>Mandatory</li><li>Name spaced and unique within a context</li><li>Can be system generated</li></ul>                  |
| pin              | Identification pin if needed to be set                                           | String | Optional                                                                                                                     |
| mobile\*         | Mobile number of the user                                                        | String | <ul><li>Conditionally optional, if any other identifier like Aadhar is provided</li></ul>                                    |
| email\*          | Email Id of the user                                                             | String | <ul><li>Conditionally optional, if any other identifier like Aadhar is provided</li></ul>                                    |
| tenant\_roles    | List of different roles assigned to the user in different tenants                | Array  | <ul><li>Mandatory</li><li>Roles should be a subset of the ones defined in reference to Master Data in the platform</li></ul> |
| linked\_user\_id | User ID in the source system                                                     | String | <ul><li>Optional</li></ul>                                                                                                   |

Following [OpenAPI 3.0 document](https://raw.githubusercontent.com/hcx-project/hcx-specs/v0.9/API%20Definitions/openapi\_hcx\_registry.yml) describes these registries and the associated APIs. Same specification can be visualised in [Swagger Editor](https://editor.swagger.io/?url=https://raw.githubusercontent.com/hcx-project/hcx-specs/v0.9/API%20Definitions/openapi\_hcx\_registry.yml).
